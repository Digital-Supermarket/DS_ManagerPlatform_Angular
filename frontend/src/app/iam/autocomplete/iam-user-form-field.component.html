<div>
  <app-autocomplete-form-field
    *ngIf="mode === 'single'"
    [control]="control"
    [label]="label"
    [required]="required"
    [fetchFn]="fetchFn"
    [appAutofocus]="appAutofocus"
    [clientSideSearch]="clientSideSearch"
    [submitted]="submitted"
    (createModalOpen)="createModalOpen()"
    [showCreate]="showCreate && hasPermissionToCreate"
  ></app-autocomplete-form-field>

  <app-autocomplete-multiple-form-field
    *ngIf="mode === 'multiple'"
    [control]="control"
    [label]="label"
    [required]="required"
    [fetchFn]="fetchFn"
    [appAutofocus]="appAutofocus"
    [clientSideSearch]="clientSideSearch"
    [ngForm]="ngForm"
    (createModalOpen)="createModalOpen()"
    [showCreate]="showCreate && hasPermissionToCreate"
    [submitted]="submitted"
  ></app-autocomplete-multiple-form-field>
</div>
